server:
  shutdown: immediate

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

hmpps:
  sqs:
    provider: localstack
    useWebToken: false
    queues:
      audit:
        queueName: "audit"
      email:
        queueName: "email"
        subscribeTopicId: emailtopic
        dlqName: email_dlq
      matchingnotifications:
        queueName: "matching-notifications"
        subscribeTopicId: matchingnotificationstopic
    topics:
      emailtopic:
        arn: arn:aws:sns:eu-west-2:000000000000:email-topic
      matchingnotificationstopic:
        arn: arn:aws:sns:eu-west-2:000000000000:matching-notifications


services:
  hmpps-auth:
    url: "http://localhost:8090/auth"

aws:
  region: eu-west-2
  endpoint-url: http://localhost:8091
  s3:
    endpoint-url: http://localhost:4566
  athena:
    role: testIAM

spring:
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: true
  datasource:
    url: jdbc:postgresql://localhost/testdb
    username: postgres
    password: postgres

datastore:
  output-bucket-arn: test-output-bucket
  retry-interval-ms: 10

notify:
  enabled: false
  successfulIngestionTemplateId: 4e75981e-ba14-477e-afea-5ec111c7bf11
  failedIngestionTemplateId: 8266beaa-db28-4d78-ba1a-34f77cca798b
  partialIngestionTemplateId: cf2ea045-1d08-4f01-a954-4d7c3294dcef
  apikey: test-key

email-ingestion:
  valid-emails:
    metropolitan: "test@email.com"
  mailbox-address: "shared-mailbox@email.com"
